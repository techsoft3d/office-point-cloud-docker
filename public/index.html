<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <title>Office with Point Cloud | HOOPS Web Viewer</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1;IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="viewport" content="user-scalable=no" />
  <!-- Google Tag Manager -->
  <script>(function (w, d, s, l, i) {
      w[l] = w[l] || []; w[l].push({
        'gtm.start':
          new Date().getTime(), event: 'gtm.js'
      }); var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-PB9P4KS');</script>
  <!-- End Google Tag Manager -->
  <link rel="stylesheet" href="stylesheets/TreeControl.css" />
  <link rel="stylesheet" href="stylesheets/Toolbar.css" />
  <link rel="stylesheet" href="stylesheets/Common.css" />
  <link rel="stylesheet" href="stylesheets/Desktop.css" />
  <link rel="stylesheet" href="stylesheets/NoteText.css" />
  <link rel="stylesheet" href="stylesheets/PropertyWindow.css" />
  <link rel="stylesheet" href="stylesheets/ViewerSettings.css" />
  <link rel="stylesheet" href="stylesheets/jquery.minicolors.css" />
  <link rel="stylesheet" href="stylesheets/jquery-ui.min.css" />
  <link rel="stylesheet" href="stylesheets/custom.css" />
  <link rel="stylesheet" href="stylesheets/drop-down.css" />

  <script type="text/javascript" src="hoops/hoops_web_viewer.js"></script>
  <script type="text/javascript" src="javascripts/communicator_scripts/jquery-3.3.1.min.js"></script>
  <script type="text/javascript" src="javascripts/jquery-ui.min.js"></script>
  <script type="text/javascript" src="javascripts/jquery.ui.touch-punch.min.js"></script>
  <script type="text/javascript" src="javascripts/communicator_scripts/keymaster.min.js"></script>
  <script type="text/javascript" src="javascripts/communicator_scripts/iscroll.min.js"></script>
  <script type="text/javascript" src="javascripts/communicator_scripts/jquery.minicolors.min.js"></script>
  <script type="text/javascript" src="javascripts/custom.js"></script>
  <script type="text/javascript" src="javascripts/ServerConnection.js"></script>

  <script>
    var hwv;
  </script>

  <script type="text/javascript">

    document.addEventListener("DOMContentLoaded", () => {
      initializeViewer();
    });

    async function startViewer(modelName) {


      var server = new ServerConnection("https://office-point-cloud-docker.techsoft3d.com"); //change to IP of host server

      await server.connect();
      viewer = new Communicator.WebViewer({
        containerId: "viewerContainer",
        model: modelName,
        endpointUri: server._endpointuri,
        enginePath: '/hoops',
        rendererType: 0,
        boundingPreviewMode: "none",

      });

      await viewer.start();
      return viewer
    }


    async function initializeViewer() {


      // enable functionality for point cloud toggle
      const toggleScan = function () {
        scanVisible = !scanVisible;
        if (scanVisible) {
          if (scanLoaded == false) {
            hwv.getModel().loadSubtreeFromModel(0, "DotProductOfficeScan");
            scanLoaded = true;
          } else {
            hwv.getModel().setNodesVisibility([findNode(0, "LR")], scanVisible);
          }
          document.getElementById("toggle-scan-button").classList.add("active-tool");
          document.getElementById("toggle-scan-button").style.opacity = 1;
          disablePointCloudWindow(false);
        } else {
          hwv.getModel().setNodesVisibility([findNode(0, "LR")], scanVisible);
          document.getElementById("toggle-scan-button").classList.remove("active-tool");
          document.getElementById("toggle-scan-button").style.opacity = 0.3;
          disablePointCloudWindow(true);
        }
      };

      // enable functionality for toggle solid visibility
      const toggleSolid = function () {
        var nodes = [
          1, 5, 9, 13, 17, 21, 25, 29, 33, 37, 41, 45, 49, 53, 57, 61, 65, 69,
          73, 77, 81, 85, 89, 93,
        ];
        solidVisible = !solidVisible;
        hwv.getModel().setNodesVisibility(nodes, solidVisible);
        if (solidVisible) {
          document.getElementById("toggle-solid-button").classList.add("active-tool");
          document.getElementById("toggle-solid-button").style.opacity = 1;
        } else {
          document.getElementById("toggle-solid-button").classList.remove("active-tool");
          document.getElementById("toggle-solid-button").style.opacity = 0.3;

        }
      };

      let scanLoaded = false;
      let scanVisible = false;
      let solidVisible = true;

      // add additional buttons for point cloud and solid visibility to the interface
      document.querySelector(".toolbar-tools").innerHTML += `
                  <div id="tool_separator_5" class="tool-separator"></div>
                  <div id="toggle-scan-button" title="Toggle Point Cloud Visibility" data-operatorclass="toolbar-toggle-scan" class="hoops-tool">
                      <div class="tool-icon"></div>
                  </div>
                  <div id="toggle-solid-button" title="Toggle Solid Visibility" data-operatorclass="toolbar-toggle-solid" class="hoops-tool active-tool">
                      <div class="tool-icon"></div>
                  </div>     
              `;

      hwv = await startViewer("DotProductOffice")

      hwv.setCallbacks({
        modelStructureReady: function () {
          hwv.getView().setPointSize(0.0005, 5); // set smaller points
          $(".dropdown").css("display", "inline-block");
        },
        walkOperatorActivated: function () {
          var keyboardWalkOperator = hwv.operatorManager.getOperator(Communicator.OperatorId.WalkMode);
          keyboardWalkOperator.setWalkSpeed(7000);
        }
      });

      const uiConfig = {
        containerId: "content",
        screenConfiguration: Sample.screenConfiguration,
      };
      const ui = new Communicator.Ui.Desktop.DesktopUi(hwv, uiConfig);

      ui._toolbar._actionsNullary.set("toolbar-toggle-scan", toggleScan);
      ui._toolbar._actionsNullary.set("toolbar-toggle-solid", toggleSolid);

      window.onresize = function () {
        hwv.resizeCanvas();
      };

      var findNode = function (nodeId, name) {
        var children = hwv.getModel().getNodeChildren(nodeId);
        for (var i = 0; i < children.length; i++) {
          if (hwv.getModel().getNodeName(children[i]) === name) {
            return children[i];
          } else {
            ret = findNode(children[i], name);
            if (ret != -1) return ret;
          }
        }
        return -1;
      };

    }
  </script>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PB9P4KS" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <div id="content">
    <div class="dropdown">
      <button class="drop-button">Views</button>
      <div class="dropdown-content">
        <a href="javascript:void(0);" onmousedown='setView(0)' style="width: 90%; float: left">
          <img src="stylesheets/images/home-view.png" alt="Home View" style="float: left" />
          <div class="dropdown-text" style="width: 50%; float: right">
            Home View
          </div>
        </a>
        <a href="javascript:void(0);" onmousedown='setView(1)' style="width: 90%; float: left">
          <img src="stylesheets/images/door-opening.png" alt="Door Opening" style="float: left" />
          <div class="dropdown-text" style="width: 50%; float: right">
            Door Opening
          </div>
        </a>
        <a href="javascript:void(0);" onmousedown='setView(2)' style="width: 90%; float: left">
          <img src="stylesheets/images/interior-view-1.png" alt="Interior View 1" style="float: left" />
          <div class="dropdown-text" style="width: 50%; float: right">
            Interior View 1
          </div>
        </a>
        <a href="javascript:void(0);" onmousedown='setView(3)' style="width: 90%; float: left">
          <img src="stylesheets/images/interior-view-2.png" alt="Interior View 2" style="float: left" />
          <div class="dropdown-text" style="width: 50%; float: right">
            Interior View 2
          </div>
        </a>
      </div>
    </div>


    <div class="point-cloud-window">

      <div style="display: flex; justify-content: space-between">
        <label for="splats" style="float: right;">Enable Splats</label>
        <input type="checkbox" style="float: left;" id="splats" onclick="enableSplats()" checked disabled>

      </div>

      <div style="display: flex; justify-content: space-between">
        <label for="eye-dome" style="float: right;">Eye-Dome Lighting</label>
        <input type="checkbox" style="float: left;" id="eye-dome" onclick="enableEyeDomeLighting()" checked disabled>

      </div>


      <div class="slidecontainer">
        <label for="splatSizeSlider">Splat Size: <label id="splatValue">.0005</label></label><br>
        <input style="width: 100%" id=splatSizeSlider type="range" min="1" max="20" value="5"
          oninput="updateSplatSize()" disabled>
      </div>

    </div>

    <div id="viewerContainer"></div>
    <!-- Toolbar HTML-->
    <div id="toolBar">
      <div class="toolbar-tools">
        <div id="home-button" title="Reset Camera" data-operatorclass="toolbar-home" class="hoops-tool">
          <div class="tool-icon"></div>
        </div>
        <div id="tool_separator_1" class="tool-separator"></div>
        <div id="view-button" title="Camera Menu" data-operatorclass="toolbar-camera" data-submenu="view-submenu"
          class="hoops-tool toolbar-menu">
          <div class="tool-icon"></div>
        </div>
        <div id="edgeface-button" title="Wireframe on Shaded" data-operatorclass="toolbar-wireframeshaded"
          data-submenu="edgeface-submenu" class="hoops-tool toolbar-menu">
          <div class="tool-icon"></div>
        </div>
        <div id="tool_separator_2" class="tool-separator"></div>
        <div id="redline-button" title="Redline Note" data-operatorclass="toolbar-redline-note"
          data-submenu="redline-submenu" class="hoops-tool toolbar-radio">
          <div class="smarrow"></div>
          <div class="tool-icon"></div>
        </div>
        <div id="click-button" title="Select" data-operatorclass="toolbar-select" data-submenu="click-submenu"
          class="hoops-tool toolbar-radio active-tool">
          <div class="smarrow"></div>
          <div class="tool-icon"></div>
        </div>
        <div id="camera-button" title="Orbit Camera" data-operatorclass="toolbar-orbit" data-submenu="camera-submenu"
          class="hoops-tool toolbar-menu">
          <div class="tool-icon"></div>
        </div>
        <div id="tool_separator_3" class="tool-separator"></div>
        <div id="explode-button" title="Explode Menu" data-operatorclass="toolbar-explode" data-submenu="explode-slider"
          class="hoops-tool toolbar-menu-toggle">
          <div class="tool-icon"></div>
        </div>
        <div id="cuttingplane-button" title="Cutting Plane Menu" data-operatorclass="toolbar-cuttingplane"
          data-submenu="cuttingplane-submenu" class="hoops-tool toolbar-menu-toggle">
          <div class="tool-icon"></div>
        </div>
        <div id="tool_separator_4" class="tool-separator"></div>
        <div id="snapshot-button" title="Snapshot" data-operatorclass="toolbar-snapshot" class="hoops-tool">
          <div class="tool-icon"></div>
        </div>
        <div id="settings-button" title="Settings" data-operatorclass="toolbar-settings" class="hoops-tool">
          <div class="tool-icon"></div>
        </div>
      </div>
      <div id="submenus">
        <div id="redline-submenu" data-button="redline-button" class="toolbar-submenu submenus">
          <table>
            <tr>
              <td>
                <div id="redline-circle-button" title="Redline Circle" data-operatorclass="toolbar-redline-circle"
                  class="submenu-icon"></div>
              </td>
              <td>
                <div id="redline-rectangle-button" title="Redline Rectangle"
                  data-operatorclass="toolbar-redline-rectangle" class="submenu-icon"></div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="redline-note" title="Redline Note" data-operatorclass="toolbar-redline-note"
                  class="submenu-icon"></div>
              </td>
              <td>
                <div id="redline-freehand" title="Redline Freehand" data-operatorclass="toolbar-redline-freehand"
                  class="submenu-icon"></div>
              </td>
            </tr>
          </table>
        </div>
        <div id="camera-submenu" data-button="camera-button" class="toolbar-submenu submenus">
          <table>
            <tr>
              <td>
                <div id="operator-camera-walk" title="Walk" data-operatorclass="toolbar-walk" class="submenu-icon">
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="operator-camera-turntable" title="Turntable" data-operatorclass="toolbar-turntable"
                  class="submenu-icon"></div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="operator-camera-orbit" title="Orbit Camera" data-operatorclass="toolbar-orbit"
                  class="submenu-icon"></div>
              </td>
            </tr>
          </table>
        </div>
        <div id="edgeface-submenu" data-button="edgeface-button" class="toolbar-submenu submenus">
          <table>
            <tr>
              <td>
                <div id="viewport-wireframe-on-shaded" title="Shaded With Lines"
                  data-operatorclass="toolbar-wireframeshaded" class="submenu-icon"></div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="viewport-shaded" title="Shaded" data-operatorclass="toolbar-shaded" class="submenu-icon"></div>
              </td>
            </tr>
            <tr>
              <td>
                <div title="Hidden Line" data-operatorclass="toolbar-hidden-line" class="submenu-icon"></div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="viewport-wireframe" title="Wireframe" data-operatorclass="toolbar-wireframe"
                  class="submenu-icon"></div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="viewport-xray" title="XRay" data-operatorclass="toolbar-xray" class="submenu-icon"></div>
              </td>
            </tr>
          </table>
        </div>
        <div id="view-submenu" class="toolbar-submenu submenus">
          <table>
            <tr>
              <td>
                <div id="view-face" title="Orient Camera To Selected Face" data-operatorclass="toolbar-face"
                  class="submenu-icon disabled"></div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="view-iso" title="Iso View" data-operatorclass="toolbar-iso" class="submenu-icon"></div>
              </td>
              <td>
                <div id="view-ortho" title="Orthographic Projection" data-operatorclass="toolbar-ortho"
                  class="submenu-icon"></div>
              </td>
              <td>
                <div id="view-persp" title="Perspective Projection" data-operatorclass="toolbar-persp"
                  class="submenu-icon"></div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="view-left" title="Left View" data-operatorclass="toolbar-left" class="submenu-icon"></div>
              </td>
              <td>
                <div id="view-right" title="Right View" data-operatorclass="toolbar-right" class="submenu-icon"></div>
              </td>
              <td>
                <div id="view-bottom" title="Bottom View" data-operatorclass="toolbar-bottom" class="submenu-icon">
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="view-front" title="Front View" data-operatorclass="toolbar-front" class="submenu-icon"></div>
              </td>
              <td>
                <div id="view-back" title="Back View" data-operatorclass="toolbar-back" class="submenu-icon"></div>
              </td>
              <td>
                <div id="view-top" title="Top View" data-operatorclass="toolbar-top" class="submenu-icon"></div>
              </td>
            </tr>
          </table>
        </div>
        <div id="click-submenu" data-button="click-button" class="toolbar-submenu submenus">
          <table>
            <tr>
              <td>
                <div id="note-button" title="Create Note-Pin" data-operatorclass="toolbar-note" class="submenu-icon">
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="measure-angle-between-faces" title="Measure Angle Between Faces"
                  data-operatorclass="toolbar-measure-angle" class="submenu-icon"></div>
              </td>
              <td>
                <div id="measure-distance-between-faces" title="Measure Distance Between Faces"
                  data-operatorclass="toolbar-measure-distance" class="submenu-icon"></div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="measure-edges" title="Measure Edges" data-operatorclass="toolbar-measure-edge"
                  class="submenu-icon"></div>
              </td>
              <td>
                <div id="measure-point-to-point" title="Measure Point to Point"
                  data-operatorclass="toolbar-measure-point" class="submenu-icon"></div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="select-parts" title="Select Parts" data-operatorclass="toolbar-select" class="submenu-icon">
                </div>
              </td>
              <td>
                <div id="area-select" title="Area Select" data-operatorclass="toolbar-area-select" class="submenu-icon">
                </div>
              </td>
            </tr>
          </table>
        </div>
        <div id="explode-slider" class="toolbar-submenu slider-menu submenus">
          <div id="explosion-slider" style="height:90px;" class="toolbar-slider"></div>
        </div>
        <div id="cuttingplane-submenu" class="toolbar-submenu cutting-plane submenus no-modal">
          <table>
            <tr>
              <td>
                <div id="cuttingplane-face" title="Create Cutting Plane On Selected Face" data-plane="face"
                  data-operatorclass="toolbar-cuttingplane-face" class="toolbar-cp-plane submenu-icon disabled"></div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="cuttingplane-x" title="Cutting Plane X" data-plane="x"
                  data-operatorclass="toolbar-cuttingplane-x" class="toolbar-cp-plane submenu-icon"></div>
              </td>
              <td>
                <div id="cuttingplane-section" title="Cutting Plane Visibility Toggle" data-plane="section"
                  data-operatorclass="toolbar-cuttingplane-section" class="toolbar-cp-plane submenu-icon disabled">
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="cuttingplane-y" title="Cutting Plane Y" data-plane="y"
                  data-operatorclass="toolbar-cuttingplane-y" class="toolbar-cp-plane submenu-icon"></div>
              </td>
              <td>
                <div id="cuttingplane-toggle" title="Cutting Plane Section Toggle" data-plane="toggle"
                  data-operatorclass="toolbar-cuttingplane-toggle" class="toolbar-cp-plane submenu-icon disabled"></div>
              </td>
            </tr>
            <tr>
              <td>
                <div id="cuttingplane-z" title="Cutting Plane Z" data-plane="z"
                  data-operatorclass="toolbar-cuttingplane-z" class="toolbar-cp-plane submenu-icon"></div>
              </td>
              <td>
                <div id="cuttingplane-reset" title="Cutting Plane Reset" data-plane="reset"
                  data-operatorclass="toolbar-cuttingplane-reset" class="toolbar-cp-plane submenu-icon disabled"></div>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>

    <div id="viewer-settings-dialog-container">
      <!-- Viewer Settings Window -->
      <div id="viewer-settings-dialog" class="hoops-ui-window">

        <!-- Header -->
        <div class="hoops-ui-window-header">
          <span class="tab selected" id="settings-tab-label-general">General</span>
          <span class="tab" id="settings-tab-label-walk">Walk</span>
          <span class="tab" id="settings-tab-label-drawing">Drawing</span>
        </div>

        <!-- Drawing tab -->
        <div class="hoops-ui-window-body" id="settings-tab-drawing">
          <div class="settings-group-header">Drawing</div>
          <div class="settings-group settings-group-general">
            <div class="settings-block">
              <div>Drawing Colors:</div>
              <div>
                <input type="text" id="settings-drawing-background" class="color-picker" data-position="bottom left" />
                <label>Background</label>
              </div>
              <div>
                <input type="text" id="settings-drawing-sheet" class="color-picker" data-position="bottom left" />
                <label>Sheet</label>
              </div>
              <div>
                <input type="text" id="settings-drawing-sheet-shadow" class="color-picker"
                  data-position="bottom left" />
                <label>Sheet Shadow</label>
              </div>
              <div>
                <input type="checkbox" id="settings-drawing-background-enabled" />
                <label>Show Sheet Background</label>
              </div>
            </div>
          </div>
        </div>

        <!-- Walk tab -->
        <div class="hoops-ui-window-body" id="settings-tab-walk">
          <div class="settings-group-header">Walk Mode</div>
          <div class="settings-group settings-group-general">
            <div class="settings-block">
              <label>Walk Mode:</label>
              <select id="settings-walk-mode" class="right-align">
                <option value="0">Mouse</option>
                <option value="1">Keyboard</option>
              </select>
              <span class="clear-both"></span>
            </div>

            <div class="settings-block" id="walk-navigation-keys">
              <div id="walk-navigation-text" class="center-align bold">Navigation Keys</div>
              <div>
                <span id="walk-key-forward">W</span> /
                <span id="walk-key-left">A</span> /
                <span id="walk-key-backward">S</span> /
                <span id="walk-key-right">D</span>
                <span class="right-align">Move</span>
              </div>
              <div>
                <span id="walk-key-rotate-left">Q</span> /
                <span id="walk-key-rotate-right">E</span>
                <span class="right-align">rotate</span>
              </div>
              <div>
                <span id="walk-key-up">X</span> /
                <span id="walk-key-down">C</span>
                <span class="right-align">Up / Down</span>
              </div>
              <div>
                <span id="walk-key-tilt-up">R</span> /
                <span id="walk-key-tilt-down">F</span>
                <span id="move-keys" class="right-align">Tilt</span>
              </div>
              <div>
                <span id="walk-key-toggle-collision">V</span>
                <span class="right-align">Toggle Collision Detection</span>
              </div>

            </div>

            <div class="settings-block">
              <span id="walk-rotation-text">Rotation (Deg/s):</span>
              <input type="number" min="0" id="settings-walk-rotation" class="right-align" />
              <span class="clear-both"></span>
            </div>

            <div class="settings-block">
              <span id="walk-speed-text">Walk Speed (<span id="walk-speed-units">m</span>/s):</span>
              <input type="number" min="0" id="settings-walk-speed" step=".1" class="right-align" />
              <span class="clear-both"></span>
            </div>
            <div class="settings-block">
              <span id="walk-elevation-text">Elevation Speed (<span id="elevation-speed-units">m</span>/s):</span>
              <input type="number" min="0" id="settings-walk-elevation" step=".1" class="right-align" />
              <span class="clear-both"></span>
            </div>
            <div class="settings-block">
              <span id="walk-view-angle-text">Field of View (Deg):</span>
              <input type="number" min="30" max="150" id="settings-walk-view-angle" class="right-align" />
              <span class="clear-both"></span>
            </div>
            <div class="settings-block">
              <span id="walk-mouse-look-text">Enable Mouse Look:</span>
              <input type="checkbox" id="settings-mouse-look-enabled" />

              <span id="settings-mouse-look-style" class="grayed-out right-align">
                <label>Speed: </label>
                <input id="settings-mouse-look-speed" type="number" />
              </span>
            </div>
            <div class="settings-block">
              <span id="walk-bim-mode-text">Enable Collision Detection:</span>
              <input type="checkbox" id="settings-bim-mode-enabled" />
              <span class="clear-both"></span>
            </div>
          </div>
        </div>

        <!--General tab-->
        <div class="hoops-ui-window-body selected" id="settings-tab-general">
          <!-- general -->
          <div class="settings-group-header">General</div>
          <div class="settings-group settings-group-general">
            <div class="settings-block">
              <label>Projection Mode:</label>
              <select id="settings-projection-mode" class="right-align">
                <option value="0">Orthographic</option>
                <option value="1">Perspective</option>
              </select>
              <span class="clear-both"></span>
            </div>
            <div class="settings-block">
              <span class="framerate-text">Framerate (fps):</span>
              <input type="number" min="0" id="settings-framerate" class="right-align" />
              <span class="clear-both"></span>
            </div>
            <div class="settings-block">
              <span>Hidden Line Opacity (0-1): </span>
              <input id="settings-hidden-line-opacity" class="right-align" type="number" min="0" max="1" step=".1" />
              <span class="clear-both"></span>
            </div>
            <div class="settings-block">
              <label for="settings-show-backfaces">Show Backfaces:</label>
              <input type="checkbox" id="settings-show-backfaces" class="right-align" />
              <span class="clear-both"></span>
            </div>
            <div class="settings-block">
              <label for="settings-show-capping-geometry">Show Capping Geometry:</label>
              <input type="checkbox" id="settings-show-capping-geometry" class="right-align" />
              <span class="clear-both"></span>
            </div>
            <div class="settings-block">
              <span>Enable Face / Line Selection: </span>
              <input type="checkbox" id="settings-enable-face-line-selection" class="right-align" />
              <span class="clear-both"></span>
            </div>
            <div class="settings-block">
              <span>Selection Honors Scene Visibility:</span>
              <input type="checkbox" id="settings-select-scene-invisible" class="right-align" />
              <span class="clear-both"></span>
            </div>
            <div class="settings-block">
              <span>Rotate Around Camera Center:</span>
              <input type="checkbox" id="settings-orbit-mode" class="right-align" />
              <span class="clear-both"></span>
            </div>
          </div>

          <!-- effects -->
          <div class="settings-group-header">Effects</div>
          <div class="settings-group settings-group-general">

            <div class="settings-block">
              <span>Enable Ambient Occlusion:</span>
              <input type="checkbox" id="settings-ambient-occlusion" />
              <input id="settings-ambient-occlusion-radius" type="number" min="0" max="10" step=".01"
                class="right-align" />
              <div class="right-align">Radius: </div>
              <span class="clear-both"></span>
            </div>

            <div class="settings-block">
              <span>Enable Anti-Aliasing:</span>
              <input type="checkbox" id="settings-anti-aliasing" class="right-align" />
              <span class="clear-both"></span>
            </div>

            <div class="settings-block">
              <div>
                <span>Enable Bloom:</span>
                <input type="checkbox" id="settings-bloom-enabled" class="right-align" />
              </div>
              <span id="settings-bloom-style" class="grayed-out">
                <label>Intensity Scale:</label>
                <input id="settings-bloom-intensity" type="number" min="0" step=".1" class="right-align" disabled />
                <span class="clear-both"></span>
                <label>Threshold:</label>
                <input type="range" id="settings-bloom-threshold" min="0" max="1" step="0.1" class="right-align"
                  disabled />
              </span>
            </div>

            <div class="settings-block">
              <div>
                <span>Silhouette Edges:</span>
                <input type="checkbox" id="settings-silhouette-enabled" class="right-align" />
              </div>
            </div>

            <div class="settings-block">
              <div>
                <span>Reflection Planes:</span>
                <input type="checkbox" id="settings-reflection-enabled" class="right-align" />
              </div>
            </div>

            <div class="settings-block">
              <div>
                <span>Enable Shadows:</span>
                <input type="checkbox" id="settings-shadow-enabled" class="right-align" />
              </div>
              <span id="settings-shadow-style" class="grayed-out">
                <span>Interactive:</span>
                <input type="checkbox" id="settings-shadow-interactive" class="right-align" disabled />
                <span class="clear-both"></span>

                <label>Blur Samples:</label>
                <input type="range" id="settings-shadow-blur-samples" min="0" max="20" step="1" class="right-align"
                  disabled />
              </span>
            </div>

          </div>

          <!-- axis -->
          <div class="settings-group-header">Axis</div>
          <div class="settings-group settings-group-general">
            <div class="settings-block">
              <span>Show Axis Triad:</span>
              <input type="checkbox" id="settings-axis-triad" class="right-align" />
              <span class="clear-both"></span>
            </div>
            <div class="settings-block">
              <span>Show Nav Cube:</span>
              <input type="checkbox" id="settings-nav-cube" class="right-align" />
              <span class="clear-both"></span>
            </div>
          </div>

          <!-- point cloud -->
          <div class="settings-group-header">Point Cloud</div>
          <div class="settings-group settings-group-general">
            <div class="settings-block">
              <span>Enable Splats:</span>
              <input type="checkbox" id="settings-splat-rendering-enabled" />

              <span id="settings-splat-enabled-style" class="grayed-out right-align">
                <label>Size: </label>
                <input id="settings-splat-rendering-size" step=".01" type="number" />

                <label>Mode:</label>
                <select id="settings-splat-rendering-point-size-unit">
                  <option value="0">ScreenPixels</option>
                  <option value="1">CSSPixels</option>
                  <option value="2">World</option>
                  <option value="3">ScreenWidth</option>
                  <option value="4">ScreenHeight</option>
                  <option value="5">BoundingDiagonal</option>
                </select>
              </span>
            </div>
            <div class="settings-block">
              <span>Enable Eye-Dome Lighting:</span>
              <input type="checkbox" id="settings-eye-dome-lighting-enabled" class="right-align" />
              <span class="clear-both"></span>
            </div>
          </div>

          <!--color-->
          <div class="settings-group-header">Color</div>
          <div class="settings-group settings-group-colors">
            <div class="settings-block">
              <div>Background Color:</div>
              <div>
                <input type="text" id="settings-background-top" class="color-picker" data-position="top left" />
                <label>Top</label>
              </div>
              <div>
                <input type="text" id="settings-background-bottom" class="color-picker" data-position="top left" />
                <label>Bottom</label>
              </div>
            </div>
            <div class="settings-block">
              <div>Capping Geometry:</div>
              <div>
                <input type="text" id="settings-capping-face-color" class="color-picker" data-position="top left" />
                <label>Face</label>
              </div>
              <div>
                <input type="text" id="settings-capping-line-color" class="color-picker" data-position="top left" />
                <label>Line</label>
              </div>
            </div>
            <div class="settings-block">
              <div>Selection Color:</div>
              <input type="text" id="settings-selection-color-body" class="color-picker" data-position="top left" />
              <label>Body</label>
              <div>
                <span id="settings-selection-color-face-line-style">
                  <input type="text" id="settings-selection-color-face-line" class="color-picker"
                    data-position="top left" />
                  <label>Faces and Lines</label>
                </span>
              </div>
            </div>
            <div class="settings-block">
              <input type="text" id="settings-measurement-color" class="color-picker" data-position="top left" />
              <label>Measurement Color</label>
            </div>
            <div class="settings-block">
              <span id="settings-pmi-color-style" class="grayed-out">
                <input type="text" id="settings-pmi-color" class="color-picker" data-position="top left" disabled />
                <label>PMI Override Color</label>
              </span>
              <input type="checkbox" id="settings-pmi-enabled" />
              <label>Enable</label>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div>
          <div class="hoops-ui-window-footer">
            <div class="version">
              Viewer Version:
              <span id="settings-viewer-version"></span>, Format Version:
              <span id="settings-format-version"></span>
            </div>
            <div class="hoops-ui-footer-buttons">
              <button id="viewer-settings-ok-button">Ok</button>
              <button id="viewer-settings-cancel-button">Cancel</button>
              <button id="viewer-settings-apply-button">Apply</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="snapshot-dialog" class="hoops-ui-window">
      <div class="hoops-ui-window-header">Snapshot</div>
      <div class="hoops-ui-window-body">
        <img id="snapshot-dialog-image" class="snapshot-image" alt="Snapshot" />
        <div class="snapshot-text">Right Click to Save image</div>
      </div>
      <div class="hoops-ui-window-footer">
        <div class="hoops-ui-footer-buttons">
          <button id="snapshot-dialog-cancel-button">Close</button>
        </div>
      </div>
    </div>
  </div>
</body>

</html>